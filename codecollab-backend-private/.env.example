##################################################
# üîπ APP CONFIGURATION
##################################################
# App environment
NODE_ENV=development
PORT=4000
APP_NAME=CodeCollab
APP_URL=http://localhost:4000
CLIENT_URL=http://localhost:5173

# CORS allowed origins (comma separated)
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

##################################################
# üîπ DATABASE CONFIGURATION (PostgreSQL + Prisma)
##################################################
DATABASE_URL="postgresql://postgres:password@localhost:5432/codecollab?schema=public"

# Prisma client logging
PRISMA_LOG_LEVEL=query,error,info
PRISMA_CLIENT_ENGINE_TYPE=binary

##################################################
# üîπ REDIS CONFIGURATION (Cache, Queues, Presence)
##################################################
REDIS_URL=redis://127.0.0.1:6379
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=passowrd@123
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Presence key prefixes
REDIS_PREFIX_USER=user:
REDIS_PREFIX_ROOM=room:

##################################################
# üîπ JWT AUTHENTICATION (Access + Refresh Tokens)
##################################################
JWT_ACCESS_SECRET=supersecret_access_and_refresh_key_123_sadfs_sfsdf_fgdfvsdvas_fdsfas
JWT_REFRESH_SECRET=supersecret_access_and_refresh_key_123_sadfs_sfsdf_fgdfvsdvas_fdsfas
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

##################################################
# üîπ SESSION / COOKIE CONFIG
##################################################
SESSION_SECRET=session_secret_123
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

##################################################
# üîπ OAUTH CONFIGURATION (Google + GitHub)
##################################################
# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
# New controller uses GOOGLE_REDIRECT_URI; falls back to APP_URL/api/auth/oauth/google/callback
GOOGLE_REDIRECT_URI=${APP_URL}/api/auth/oauth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
# New controller uses GITHUB_REDIRECT_URI; falls back to APP_URL/api/auth/oauth/github/callback
GITHUB_REDIRECT_URI=${APP_URL}/api/auth/oauth/github/callback

##################################################
# üîπ RAZORPAY PAYMENT CONFIGURATION
##################################################
RAZORPAY_KEY_ID=rzp_test_123456789
RAZORPAY_KEY_SECRET=secret_test_987654321

##################################################
# √∞≈∏‚Äù¬π Razorpay Plans (CodeCollab)
##################################################
RAZORPAY_PLAN_1M=plan_Rad
RAZORPAY_PLAN_3M=plan_Rad
RAZORPAY_PLAN_6M=plan_Rad
RAZORPAY_PLAN_12M=plan_Rad

# Billing plan IDs (used for sync with frontend & webhook mapping)
# BILLING_PLAN_FREE_ID=plan_free
# BILLING_PLAN_PRO_ID=plan_pro
# BILLING_PLAN_ENTERPRISE_ID=plan_enterprise

##################################################
# üîπ MAIL (Verification, Forgot Password, Invites)
##################################################
MAIL_PROVIDER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_FROM="CodeCollab <no-reply@codecollab.io>"

# Client URL for reset link
CLIENT_RESET_URL=http://localhost:5173/reset-password

##################################################
# üîπ FILE STORAGE (AWS S3)
##################################################
STORAGE_PROVIDER=s3
AWS_S3_REGION=ap-south-1
AWS_S3_BUCKET=codecollab-files
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BASE_URL=https://${AWS_S3_BUCKET}.s3.${AWS_S3_REGION}.amazonaws.com

STORAGE_PROVIDER=c
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_BASE_URL=https://res.cloudinary.com/${CLOUDINARY_CLOUD_NAME}/image/upload

##################################################
# üîπ WORKER / QUEUE (BullMQ + Redis)
##################################################
QUEUE_NAME=execution_queue
QUEUE_CONCURRENCY=5
WORKER_CONCURRENCY=3
BULL_BOARD_USER=pass
BULL_BOARD_PASS=123

ENCRYPTION_SECRET=random_32_char_string
HASH_SALT_ROUNDS=10

ENABLE_DEBUG=true
SHOW_QUERY_LOGS=false
QUEUE_RETRY_LIMIT=3

HEALTH_CHECK_PATH=/health
AUTO_MIGRATE_ON_START=true

##################################################
# üîπ CODE EXECUTION SANDBOX (Container or Remote API)
##################################################
EXECUTION_SERVICE_URL=http://localhost:5000/run
EXECUTION_TIMEOUT_MS=10000
EXECUTION_MAX_MEMORY_MB=256

##################################################
# üîπ SOCKET.IO (Real-time Collaboration)
##################################################
SOCKET_PATH=/socket.io
SOCKET_CORS_ORIGINS=${CORS_ORIGINS}
SOCKET_PING_INTERVAL=25000
SOCKET_PING_TIMEOUT=60000

##################################################
# üîπ LOGGING & MONITORING
##################################################
LOG_LEVEL=info
ENABLE_HTTP_LOGS=true
SENTRY_DSN=https://examplePublicKey@o123456.ingest.sentry.io/987654
SENTRY_ENVIRONMENT=${NODE_ENV}

##################################################
# üîπ RATE LIMITING
##################################################
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

##################################################
# üîπ BACKUP & ARCHIVE SETTINGS
##################################################
SNAPSHOT_BACKUP_INTERVAL_HOURS=6
EXECUTION_LOG_TTL_DAYS=30
ARCHIVE_BUCKET_NAME=codecollab-archive

##################################################
# üîπ API VERSIONING / META
##################################################
API_VERSION=v1
BUILD_ID=dev-001
MAINTENANCE_MODE=false


##################################################
# üîπ DOCKER IMAGE NAMES
##################################################
EXECUTION_TIMEOUT=10000
QUEUE_RETRY_LIMIT=3
DOCKER_IMAGE_NODE=node:18
DOCKER_IMAGE_PYTHON=python:3.11
DOCKER_IMAGE_CPP=gcc:latest
DOCKER_IMAGE_JAVA=openjdk:17
